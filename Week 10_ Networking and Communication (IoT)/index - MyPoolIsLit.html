<!doctype html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PHYSCI 70: Introduction to Digital Fabrication</title>
  <script src="html5kellycolorpicker.js"></script>

</head>

<body>
  <div class="wrap">

    <canvas id="picker"></canvas><br />
    <input id="color" value="#54aedb">

  </div>


  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-app.js"></script>

  <!-- TODO: Add SDKs for Firebase products that you want to use
   https://firebase.google.com/docs/web/setup#available-libraries -->
   <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-database.js"></script>

   <script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
        apiKey: "AIzaSyAe92CoNO05wR-r_wqFDxD-AththWxZNLU",
        authDomain: "thispool-islit.firebaseapp.com",
        databaseURL: "https://thispool-islit.firebaseio.com",
        projectId: "thispool-islit",
        storageBucket: "thispool-islit.appspot.com",
        messagingSenderId: "697967224461",
        appId: "1:697967224461:web:0d01309ffa60994258e4c4",
        measurementId: "G-V1RT8NBYVV"
    };
  
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

  // Get a database reference to our blog
  var ref = firebase.database().ref("/");


</script>
<script>
  new KellyColorPicker({ 
    place: 'picker', 
    input: 'color', 
    alpha_slider: true, 
    size: (window.innerHeight > window.innerWidth ? window.innerWidth : window.innerHeight) - 200,
    userEvents:{
      change : function(self) {
        var curColor = self.getCurColorRgba();
        ref.update({
          "LED_RED": (curColor.r * curColor.a),
          "LED_GREEN": (curColor.g * curColor.a),
          "LED_BLUE": (curColor.b * curColor.a), 
          "LED_INTENSITY": curColor.a      
        });
      }}
    });
  </script>

  <button id="LOOP ON" name="LOOP ON"> LOOP ON</button>
  <button id="LOOP OFF" name="LOOP OFF"> LOOP OFF</button>

</body>
</html>